# ============================================
# SchedX Environment Configuration
# ============================================
# For local development (dev.ps1): Copy this file to .env
# For Docker deployment: Copy this file to .env.docker
# Generate secrets with: openssl rand -base64 32

# ============================================
# AUTHENTICATION & SECURITY
# ============================================

# Secret key for session encryption and JWT signing
# REQUIRED: Must be at least 32 characters
# Generate with: openssl rand -base64 32
AUTH_SECRET=your_secure_random_string_here_min_32_chars

# Encryption key for sensitive data in database (tokens, credentials)
# REQUIRED: Must be at least 32 characters
# Generate with: openssl rand -base64 32
DB_ENCRYPTION_KEY=your_secure_encryption_key_here_min_32_chars

# ============================================
# DATABASE
# ============================================

# MongoDB connection string
# REQUIRED
# Format: mongodb://[username:password@]host[:port]/database
# 
# For local development (dev.ps1):
#   MONGODB_URI=mongodb://localhost:27017/schedx
# 
# For Docker deployment (.env.docker):
#   MONGODB_URI=mongodb://root:example@mongo:27017/schedx?authSource=admin
# 
# For MongoDB Atlas:
#   MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/schedx
MONGODB_URI=mongodb://localhost:27017/schedx

# MongoDB credentials (for Docker Compose)
# Used by docker-compose.yml to configure MongoDB container
MONGO_USER=root
MONGO_PASSWORD=example
MONGO_DATABASE=schedx

# ============================================
# SERVER CONFIGURATION
# ============================================

# Host to bind the server to
# Default: 0.0.0.0 (all interfaces)
# Use 127.0.0.1 for localhost only
HOST=0.0.0.0

# Base URL/origin of your application
# REQUIRED for OAuth callbacks and CORS
# Supports multiple origins separated by commas
# 
# For local development (dev.ps1):
#   ORIGIN=http://localhost:5173
# 
# For Docker deployment (.env.docker):
#   ORIGIN=http://app:5173
#   Use ALLOW_LOCAL_NETWORK=true to allow any local IP (see below)
# 
# For production (add your domain):
#   ORIGIN=https://yourdomain.com
#   Set ALLOW_LOCAL_NETWORK=false for production
ORIGIN=http://localhost:5173

# Port the application will run on
# Default: 5173
PORT=5173

# Node environment
# Options: development, production, test
# Default: development
NODE_ENV=development

# Docker flag (set to 'true' when running in Docker)
# Used to determine correct file paths for uploads
# For local development: leave empty or set to 'false'
# For Docker: set to 'true' in .env.docker
DOCKER=false

# SECURITY: Allow local network access
# When enabled, allows access from any local network IP (192.168.x.x, 10.x.x.x, 172.16-31.x.x)
# Recommended for: Home labs, self-hosted deployments on trusted networks
# NOT recommended for: Production, public-facing deployments
# Default: false
ALLOW_LOCAL_NETWORK=false

# ============================================
# FILE UPLOADS
# ============================================

# Maximum file upload size in bytes
# Default: 52428800 (50MB)
# Recommended: 10485760 (10MB) for production
# Twitter limits: Images 5MB, GIFs 15MB, Videos 512MB
MAX_UPLOAD_SIZE=52428800

# Body size limit for requests
# Default: 10485760 (10MB)
BODY_SIZE_LIMIT=10485760

# ============================================
# SCHEDULER CONFIGURATION
# ============================================

# Cron schedule for tweet processing
# Default: */1 * * * * (every 1 minute)
# Format: second minute hour day month weekday
# Examples:
#   */1 * * * * - Every minute
#   */5 * * * * - Every 5 minutes
#   0 * * * * - Every hour
CRON_SCHEDULE=*/1 * * * *

# ============================================
# EMAIL NOTIFICATIONS (Optional)
# ============================================

# Enable email notifications for scheduled tweets
# Default: false
EMAIL_NOTIFICATIONS_ENABLED=false

# Email provider (currently only 'resend' supported)
EMAIL_PROVIDER=resend

# Resend API Key
# Get from: https://resend.com/api-keys
# Leave empty to disable email notifications
RESEND_API_KEY=

# Email sender address
# Must be a verified domain in Resend
EMAIL_FROM=noreply@yourdomain.com

# Email sender name
EMAIL_FROM_NAME=SchedX

# ============================================
# LOGGING & MONITORING (Optional)
# ============================================

# Log level
# Options: trace, debug, info, warn, error, fatal
# Default: info
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# Get from: https://sentry.io
# Leave empty to disable
SENTRY_DSN=

# Sentry environment name (optional)
# Default: development
SENTRY_ENVIRONMENT=development

# ============================================
# TWITTER/X API (Managed via Admin Panel)
# ============================================
# Twitter API credentials are managed through the admin interface
# No environment variables needed for Twitter API
# Configure in: Admin Panel > Twitter Apps

# ============================================
# OPTIONAL: ADVANCED CONFIGURATION
# ============================================

# Enable debug mode (verbose logging)
# Default: false
DEBUG=false

# Session timeout in seconds
# Default: 28800 (8 hours)
SESSION_TIMEOUT=28800

# Maximum number of connected accounts per user
# Default: 10
MAX_ACCOUNTS_PER_USER=10

# Rate limiting - requests per minute
# Default: 100
RATE_LIMIT_PER_MINUTE=100

# Email Notifications (Optional)
# Set to 'true' and configure Resend API key to enable
EMAIL_NOTIFICATIONS_ENABLED=false
EMAIL_PROVIDER=resend
RESEND_API_KEY=
EMAIL_FROM=onboarding@resend.dev
EMAIL_FROM_NAME=SchedX

# Note: onboarding@resend.dev only sends to your Resend account email
# For production, verify your domain in Resend and use: noreply@yourdomain.com