@import '../../../node_modules/preline/variants.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles for different themes */
[data-theme='dark'] {
	--bg-primary: #1f2937;
	--bg-secondary: #192734;
	--bg-tertiary: #253341;
	--text-primary: #ffffff;
	--text-secondary: #8899a6;
	--border-color: #38444d;
	--accent-color: #1da1f2;
	background-color: #1f2937 !important;
	color: #ffffff !important;
}

/* High-specificity override for lightsout mode */
[data-theme='lightsout'] body,
[data-theme='lightsout'] .min-h-screen,
[data-theme='lightsout'] .bg-white,
[data-theme='lightsout'] .bg-gray-50,
[data-theme='lightsout'] .bg-gray-100 {
	background-color: var(--surface-1);
	color: var(--text-primary);
}

/* Preline Component Fixes */
.hs-datepicker {
	z-index: 9999 !important;
}

.hs-datepicker .datepicker-picker {
	background-color: var(--bg-secondary) !important;
	border-color: var(--border-color) !important;
	color: var(--text-primary) !important;
}

.hs-datepicker .datepicker-picker .datepicker-header {
	background-color: var(--bg-tertiary) !important;
	border-bottom-color: var(--border-color) !important;
}

.hs-datepicker .datepicker-picker .datepicker-controls .btn {
	color: var(--text-primary) !important;
	background-color: transparent !important;
}

.hs-datepicker .datepicker-picker .datepicker-controls .btn:hover {
	background-color: var(--bg-tertiary) !important;
}

.hs-datepicker .datepicker-picker .datepicker-view .days .day {
	color: var(--text-primary) !important;
}

.hs-datepicker .datepicker-picker .datepicker-view .days .day:hover {
	background-color: var(--accent-color) !important;
	color: white !important;
}

.hs-datepicker .datepicker-picker .datepicker-view .days .day.selected {
	background-color: var(--accent-color) !important;
	color: white !important;
}

.hs-datepicker .datepicker-picker .datepicker-view .days .day.today {
	background-color: var(--accent-color) !important;
	color: white !important;
}

/* Air Datepicker Mobile Timepicker Improvements */
.air-datepicker.-is-mobile- .air-datepicker-time {
	padding: 12px 16px;
}

.air-datepicker.-is-mobile- .air-datepicker-time--row {
	height: 44px; /* Larger touch target */
}

.air-datepicker.-is-mobile- .air-datepicker-time--row:first-child {
	margin-bottom: 16px; /* More spacing between hour and minute sliders */
}

.air-datepicker.-is-mobile- .air-datepicker-time--row input[type="range"] {
	height: 44px; /* Larger touch target for slider */
}

/* Make slider thumbs larger on mobile for easier touch */
.air-datepicker.-is-mobile- .air-datepicker-time--row input[type="range"]::-webkit-slider-thumb {
	width: 24px;
	height: 24px;
}

.air-datepicker.-is-mobile- .air-datepicker-time--row input[type="range"]::-moz-range-thumb {
	width: 24px;
	height: 24px;
}

.air-datepicker.-is-mobile- .air-datepicker-time--current {
	font-size: 18px;
}

.air-datepicker.-is-mobile- .air-datepicker-time--current-hours,
.air-datepicker.-is-mobile- .air-datepicker-time--current-minutes {
	font-size: 24px;
}

/* File Upload Fixes */
.hs-file-upload {
	position: relative;
}

.hs-file-upload .file-upload-preview {
	background-color: var(--bg-secondary) !important;
	border-color: var(--border-color) !important;
	color: var(--text-primary) !important;
}

.hs-file-upload .file-upload-trigger {
	background-color: var(--bg-secondary) !important;
	border-color: var(--border-color) !important;
	color: var(--text-primary) !important;
}

.hs-file-upload .file-upload-trigger:hover {
	background-color: var(--bg-tertiary) !important;
	border-color: var(--accent-color) !important;
}

/* Preline Textarea Auto-Height Plugin Fixes */
.hs-textarea-auto-height {
	resize: none !important;
	overflow: hidden !important;
	transition: height 0.2s ease-in-out !important;
}

.hs-textarea-auto-height:focus {
	resize: none !important;
	overflow: hidden !important;
}

/* Ensure textarea auto-height works in all themes */
.dark .hs-textarea-auto-height {
	resize: none !important;
	overflow: hidden !important;
}

/* Theme tokens - corrected values */
html[data-theme="light"] {
  --surface-1: #ffffff;
  --surface-2: #f9fafb;
  --surface-3: #f3f4f6;
  --border: #e5e7eb;
  --text-primary: #1a1a1a;
  --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

html[data-theme="dark"] {
  --surface-1: #15202b;
  --surface-2: #192734;
  --surface-3: #253341;
  --border: #38444d;
  --text-primary: #ffffff;
  --shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

html[data-theme="dark"] .sidebar {
  background-color: #15202B;
}

html[data-theme="lightsout"] {
  --surface-1: #000000;
  --surface-2: #111111;
  --surface-3: #181818;
  --border: #222222;
  --text-primary: #f0f0f0;  /* Light gray text for better contrast */
  --shadow: none;
}

/* Ensure text uses the theme token */
body {
  color: var(--text-primary);
}

/* Utility classes */
.surface-card {
  background-color: var(--surface-2);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  border-radius: 0.5rem; /* 8px */
}

.surface-panel {
  background-color: var(--surface-2);
  border: 1px solid var(--border);
}

.border-strong {
  border-color: var(--border) !important;
}

.shadow-elevated {
  box-shadow: var(--shadow);
}

.input-surface {
  background-color: var(--surface-2);
  border-color: var(--border);
  border-width: 1px;
  border-style: solid;
}

/* Light mode - stronger borders for better contrast */
html[data-theme="light"] .input-surface,
[data-theme="light"] .input-surface {
  background-color: #ffffff;
  border-color: #d1d5db;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

/* Lights-out mode - stronger borders and slightly lighter background */
html[data-theme="lightsout"] .input-surface {
  background-color: #1a1a1a;
  border-color: #404040;
  box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .input-surface {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

.bg-surface-1 {
  background-color: var(--surface-1);
}

.bg-surface-2 {
  background-color: var(--surface-2);
}

/* Base styles */
@layer base {
	html {
		@apply antialiased;
	}

	body {
		transition:
			background-color 0.2s ease,
			color 0.2s ease;
	}
}

/* Component styles */
@layer components {
	/* Button styles */
	.btn {
		@apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
	}

	.btn-primary {
		@apply bg-primary-500 text-white shadow-sm hover:bg-primary-600 focus:ring-primary-500;
	}

	.btn-secondary {
		@apply bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600;
	}

	.btn-error {
		@apply bg-error text-white hover:bg-red-600 focus:ring-error;
	}

	.btn-ghost {
		@apply bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500 dark:text-gray-300 dark:hover:bg-gray-800;
	}

	.btn-sm {
		@apply px-3 py-1.5 text-xs;
	}

	.btn-lg {
		@apply px-6 py-3 text-base;
	}

	/* Input styles */
	.input {
		@apply block w-full rounded-lg border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400;
	}

	.textarea {
		@apply block w-full rounded-lg border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400;
		/* Remove resize: vertical to allow auto-height to work */
	}

	/* Card styles */
	.card {
		@apply rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800;
	}

	.card-body {
		@apply p-6;
	}

	/* Alert styles */
	.alert {
		@apply rounded-lg border p-4;
	}

	.alert-success {
		@apply border-green-200 bg-green-50 text-green-800 dark:border-green-800 dark:bg-green-900/20 dark:text-green-400;
	}

	.alert-error {
		@apply border-red-200 bg-red-50 text-red-800 dark:border-red-800 dark:bg-red-900/20 dark:text-red-400;
	}

	.alert-warning {
		@apply border-yellow-200 bg-yellow-50 text-yellow-800 dark:border-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400;
	}

	/* Loading spinner */
	.loading {
		@apply inline-block h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-primary-500;
	}

	.loading-lg {
		@apply h-8 w-8;
	}

	/* Avatar styles */
	.avatar {
		@apply inline-block overflow-hidden rounded-full;
	}

	.avatar-sm {
		@apply h-8 w-8;
	}

	.avatar-md {
		@apply h-10 w-10;
	}

	.avatar-lg {
		@apply h-12 w-12;
	}

	/* Badge styles */
	.badge {
		@apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
	}

	.badge-primary {
		@apply bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300;
	}

	.badge-success {
		@apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300;
	}

	.badge-error {
		@apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300;
	}

	/* Dropdown styles */
	.dropdown {
		@apply relative inline-block;
	}

	.dropdown-content {
		@apply absolute right-0 z-50 mt-2 w-48 rounded-lg border border-gray-200 bg-white py-1 shadow-lg dark:border-gray-700 dark:bg-gray-800;
	}

	/* Menu styles */
	.menu {
		@apply space-y-1;
	}

	.menu li a {
		@apply block rounded-md px-4 py-2 text-sm text-gray-700 transition-colors duration-150 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white;
	}

	/* Drawer styles */
	.drawer {
		@apply relative;
	}

	.drawer-content {
		@apply flex min-h-screen flex-col;
	}

	.drawer-side {
		@apply fixed inset-y-0 left-0 z-40 w-64 transform border-r border-gray-200 bg-white transition-transform duration-300 ease-in-out dark:border-gray-700 dark:bg-gray-800;
	}

	.drawer-overlay {
		@apply fixed inset-0 z-30 bg-black bg-opacity-50;
	}

	/* Navbar styles */
	.navbar {
		@apply flex items-center justify-between border-b border-gray-200 bg-white px-4 py-3 shadow-sm dark:border-gray-700 dark:bg-gray-800;
	}

	.navbar-start {
		@apply flex items-center space-x-4;
	}

	.navbar-end {
		@apply flex items-center space-x-2;
	}

	/* Footer styles */
	.footer {
		@apply border-t border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900;
	}

	.footer-center {
		@apply py-4 text-center;
	}

	/* Dock styles for mobile */
	.dock {
		@apply fixed bottom-0 left-0 right-0 z-40 border-t border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800;
	}

	.dock-label {
		@apply text-xs text-gray-600 dark:text-gray-400;
	}

	/* Sidebar icon button */
	.sidebar-icon-btn {
		@apply theme-lightsout:text-white-500 theme-lightsout:bg-black theme-lightsout:hover:bg-black-500 flex h-20 w-full flex-col items-center justify-center rounded-lg bg-gray-100 text-xl text-gray-900 shadow-md transition-all duration-200 hover:bg-gray-200 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700;
	}

	/* App icon container */
	.app-icon-container img {
		@apply h-full w-full object-contain;
	}

	/* Enhanced shadows */
	.shadow-header {
		@apply shadow-lg;
	}

	.shadow-sidebar {
		@apply shadow-xl;
	}

	/* Theme-specific glow effects */
	.glow-header {
		@apply shadow-lg shadow-primary-500/20;
	}

	.glow-sidebar {
		@apply shadow-xl shadow-primary-500/20;
	}

	/* Media gallery isolation */
	.media-gallery-container {
		@apply pointer-events-auto relative z-10;
	}

	.media-gallery-container * {
		@apply pointer-events-auto;
	}

	.media-gallery-container .media-thumbnail {
		@apply pointer-events-auto z-10;
	}

	.media-gallery-container .remove-button {
		@apply z-15 pointer-events-auto;
	}
}

/* Utility classes */
@layer utilities {
	.text-primary-content {
		@apply text-white;
	}

	.bg-base-100 {
		@apply bg-white dark:bg-gray-900;
	}

	.dark .bg-gray-900 {
		background-color: #1f2937 !important;
	}

	.bg-base-200 {
		@apply bg-gray-50 dark:bg-gray-800;
	}

	.bg-base-300 {
		@apply bg-gray-100 dark:bg-gray-700;
	}

	.text-base-content {
		@apply text-gray-900 dark:text-white;
	}

	.border-base-300 {
		@apply border-gray-200 dark:border-gray-700;
	}
}

/* Lightsout mode refinements */
[data-theme='lightsout'] body,
[data-theme='lightsout'] .min-h-screen {
	background-color: var(--surface-1);
	color: var(--text-primary);
}

[data-theme='lightsout'] .sidebar,
[data-theme='lightsout'] .card,
[data-theme='lightsout'] .drawer,
[data-theme='lightsout'] .navbar {
	background-color: var(--surface-1);
	color: var(--text-primary);
}

[data-theme='lightsout'] .text-gray-900,
[data-theme='lightsout'] .text-gray-800,
[data-theme='lightsout'] .text-gray-700 {
	color: var(--text-primary);
}

[data-theme='lightsout'] .border-gray-200,
[data-theme='lightsout'] .border-gray-300,
[data-theme='lightsout'] .border-gray-400 {
	border-color: var(--border);
}

[data-theme='lightsout'] .mobile-navbar-icon {
	color: var(--text-primary);
	filter: drop-shadow(0 0 4px #666);
}

[data-theme='lightsout'] .input,
[data-theme='lightsout'] .textarea,
[data-theme='lightsout'] .datepicker-picker,
[data-theme='lightsout'] .recurrence-dropdown {
	background-color: var(--surface-2);
	color: var(--text-primary);
	border-color: var(--border);
}

[data-theme='lightsout'] .recurrence-dropdown .dropdown-item {
	background-color: var(--surface-2);
	color: var(--text-primary);
}

[data-theme='lightsout'] .recurrence-dropdown .dropdown-item:hover {
	background-color: var(--surface-3);
	color: var(--text-primary);
}

/* Lightsout mode: Inputs, selects, textareas (exclude Filerobot Image Editor) */
[data-theme='lightsout'] input:not(#image-editor-window-root input),
[data-theme='lightsout'] select:not(#image-editor-window-root select),
[data-theme='lightsout'] textarea:not(#image-editor-window-root textarea) {
	background-color: var(--surface-2);
	color: var(--text-primary);
	border-color: var(--border);
	caret-color: var(--text-primary);
}

[data-theme='lightsout'] input:not(#image-editor-window-root input)::placeholder,
[data-theme='lightsout'] textarea:not(#image-editor-window-root textarea)::placeholder {
	color: #b0b0b0;
	opacity: 1;
}

/* Lightsout mode: Sidebar navigation links - removed !important to allow Tailwind classes to work */

/* Lightsout mode: Dropdowns and dropdown items */
[data-theme='lightsout'] .dropdown,
[data-theme='lightsout'] .dropdown-content,
[data-theme='lightsout'] .recurrence-dropdown {
	background-color: var(--surface-2);
	color: var(--text-primary);
	border-color: var(--border);
}

[data-theme='lightsout'] .dropdown-item {
	background-color: var(--surface-2);
	color: var(--text-primary);
}

[data-theme='lightsout'] .dropdown-item:hover {
	background-color: var(--surface-3);
	color: var(--text-primary);
}

/* Lightsout mode: Mobile navbar icons */
[data-theme='lightsout'] .mobile-navbar-icon,
[data-theme='lightsout'] .mobile-navbar-icon svg {
	color: var(--text-primary);
	stroke: var(--text-primary);
}

[data-theme='lightsout'] .mobile-navbar-icon:hover,
[data-theme='lightsout'] .mobile-navbar-icon:hover svg {
	filter: drop-shadow(0 0 6px #888);
}

/* Lightsout mode: Header background fix */
[data-theme='lightsout'] header::before {
	background-color: var(--surface-1);
}

/* Sidebar specific fixes for lights-out */
html[data-theme="lightsout"] .sidebar,
html[data-theme="lightsout"] .sidebar > div {
  background-color: #111111;
}

html[data-theme="lightsout"] .sidebar {
  border-right: 1px solid var(--border);
}

/* Lightsout mode: Quick action cards and dashboard cards */
[data-theme='lightsout'] .card,
[data-theme='lightsout'] .bg-gray-50,
[data-theme='lightsout'] .bg-gray-100,
[data-theme='lightsout'] .hover:bg-gray-100:hover,
[data-theme='lightsout'] .hover:bg-white:hover {
	background-color: var(--surface-1);
	color: var(--text-primary);
}

/* Remove hover state changes - keep background pure black */

/* Lightsout mode: Theme toggle and avatar in sidebar */
[data-theme='lightsout'] .sidebar .bg-gray-200,
[data-theme='lightsout'] .sidebar .dark:bg-gray-700 {
	background-color: var(--surface-2);
}

[data-theme='lightsout'] .sidebar .text-yellow-500,
[data-theme='lightsout'] .sidebar .text-blue-500,
[data-theme='lightsout'] .sidebar .text-gray-900 {
	color: var(--text-primary);
}

[data-theme='lightsout'] .sidebar .bg-yellow-500,
[data-theme='lightsout'] .sidebar .bg-blue-500,
[data-theme='lightsout'] .sidebar .bg-gray-900 {
	background-color: var(--surface-3);
	color: var(--text-primary);
}

/* Lightsout mode: Dashboard specific cards and quick actions */
[data-theme='lightsout'] .bg-white,
[data-theme='lightsout'] .bg-gray-50,
[data-theme='lightsout'] .bg-gray-100,
[data-theme='lightsout'] .bg-gray-200,
[data-theme='lightsout'] .bg-gray-300 {
	background-color: var(--surface-1);
}

/* Hover states removed - background stays pure black */

/* Lightsout mode: Text colors for cards */
[data-theme='lightsout'] .text-gray-600,
[data-theme='lightsout'] .text-gray-700,
[data-theme='lightsout'] .text-gray-800,
[data-theme='lightsout'] .text-gray-900 {
	color: var(--text-primary);
}

/* Lightsout mode: Border colors for cards */
[data-theme='lightsout'] .border-gray-200,
[data-theme='lightsout'] .border-gray-300,
[data-theme='lightsout'] .border-gray-400 {
	border-color: var(--border);
}

/* Lightsout mode: Specific hover states for quick action cards - removed to keep pure black background */

/* Lightsout mode: Specific border colors for quick action cards */
[data-theme='lightsout'] .border-gray-200,
[data-theme='lightsout'] .dark:border-gray-700,
[data-theme='lightsout'] .theme-lightsout:border-gray-800 {
	border-color: var(--border);
}

/* Lightsout mode: Text colors for quick action cards */
[data-theme='lightsout'] .text-gray-900,
[data-theme='lightsout'] .dark:text-white,
[data-theme='lightsout'] .theme-lightsout:text-white {
	color: var(--text-primary);
}

[data-theme='lightsout'] .text-gray-500,
[data-theme='lightsout'] .dark:text-gray-400,
[data-theme='lightsout'] .theme-lightsout:text-gray-300 {
	color: #ccc;
}

/* Lightsout mode: Icon colors for quick action cards */
[data-theme='lightsout'] .text-primary-600,
[data-theme='lightsout'] .dark:text-primary-400,
[data-theme='lightsout'] .theme-lightsout:text-blue-400 {
	color: var(--text-primary);
}

/* Lightsout mode: Force dark backgrounds for all light elements */
[data-theme='lightsout'] *[class*='bg-white'],
[data-theme='lightsout'] *[class*='bg-gray-50'],
[data-theme='lightsout'] *[class*='bg-gray-100'],
[data-theme='lightsout'] *[class*='bg-gray-200'] {
	background-color: var(--surface-1);
}

/* Lightsout mode: Force dark text for all light text elements */
[data-theme='lightsout'] *[class*='text-gray-900'],
[data-theme='lightsout'] *[class*='text-gray-800'],
[data-theme='lightsout'] *[class*='text-gray-700'] {
	color: var(--text-primary);
}

/* Lightsout mode: Force dark borders for all light border elements */
[data-theme='lightsout'] *[class*='border-gray-200'],
[data-theme='lightsout'] *[class*='border-gray-300'] {
	border-color: var(--border);
}

/* Filerobot Image Editor - Let CDN styles work, only block theme overrides */

/* Sidebar active state in lights-out mode - override blue backgrounds */
html[data-theme="lightsout"] .sidebar .bg-blue-100 {
  background-color: #2a2a2a !important;
}

html[data-theme="lightsout"] .sidebar .text-blue-700 {
  color: #f0f0f0 !important;
}

/* SchedX Activity card in lights-out mode */
html[data-theme="lightsout"] .schedx-activity-card {
  background: #1a1a1a !important;
  border-color: #333333 !important;
}

html[data-theme="lightsout"] .schedx-icon {
  color: #888888 !important;
}

html[data-theme="lightsout"] .schedx-label {
  color: #888888 !important;
}

/* Profile cards in lights-out mode - fix blue borders and text */
/* Exclude sidebar from this rule */
html[data-theme="lightsout"] .border-gray-200:not(.sidebar):not(.sidebar *) {
  border-color: #333333 !important;
}

html[data-theme="lightsout"] .border-blue-100,
html[data-theme="lightsout"] .border-blue-900\/50 {
  border-color: #333333 !important;
}

html[data-theme="lightsout"] .from-blue-50,
html[data-theme="lightsout"] .to-blue-100\/50,
html[data-theme="lightsout"] .from-blue-950\/30,
html[data-theme="lightsout"] .to-blue-900\/20 {
  --tw-gradient-from: #1a1a1a !important;
  --tw-gradient-to: #1a1a1a !important;
}

html[data-theme="lightsout"] .text-blue-600,
html[data-theme="lightsout"] .text-blue-700,
html[data-theme="lightsout"] .text-blue-500,
html[data-theme="lightsout"] .text-blue-400,
html[data-theme="lightsout"] .text-blue-300 {
  color: #888888 !important;
}

/* Fix stat labels that might be showing blue */
html[data-theme="lightsout"] .text-xs.text-gray-500 {
  color: #888888 !important;
}

/* Force all text-gray-500 in lights-out to be gray, not blue */
html[data-theme="lightsout"] .text-gray-500 {
  color: #888888 !important;
}

/* Override any Tailwind dark: variants that might be applying blue */
html[data-theme="lightsout"] [class*="dark:text-gray-400"] {
  color: #888888 !important;
}

/* Avatar dropdown in lights-out mode */
html[data-theme="lightsout"] .avatar-dropdown {
  background-color: #111111;
}

html[data-theme="lightsout"] .dropdown-header {
  background-color: #2A2A2A;
}

/* Remove blue outline from avatar dropdown */
.avatar-dropdown {
  outline: none !important;
  box-shadow: none !important;
  border: 1px solid transparent !important;
}

/* Ensure light mode sidebar background */
html[data-theme="light"] .sidebar {
  background-color: #ffffff;
}

/* Overview cards */
.overview-card {
  @apply surface-card;
}

/* Add if needed */
.card {
  @apply rounded-lg;
}

/* Global background rule for dim mode */
html[data-theme="dark"] {
  background-color: #15202B;
}

html[data-theme="dark"] .overview-tab-container {
  background-color: #15202B;
}

html[data-theme="lightsout"] .queue-status-empty {
  background-color: #5c1a1a !important;  /* Dark muted red */
  color: #f0a0a0 !important;             /* Softened red text */
  border: 1px solid #3a0f0f !important;  /* Darker border for definition */
}

html[data-theme="lightsout"] .queue-status-empty:hover {
  background-color: #6a1e1e !important;  /* Slightly lighter on hover */
}

/* Lights-out mode: Muted colored backgrounds for badges and icons */
/* -50 variants (lighter badges) */
html[data-theme="lightsout"] .bg-blue-50 {
  background-color: rgba(37, 99, 235, 0.1) !important;
}

html[data-theme="lightsout"] .bg-green-50 {
  background-color: rgba(34, 197, 94, 0.1) !important;
}

html[data-theme="lightsout"] .bg-red-50 {
  background-color: rgba(239, 68, 68, 0.1) !important;
}

html[data-theme="lightsout"] .bg-purple-50 {
  background-color: rgba(168, 85, 247, 0.1) !important;
}

html[data-theme="lightsout"] .bg-yellow-50 {
  background-color: rgba(234, 179, 8, 0.1) !important;
}

html[data-theme="lightsout"] .bg-amber-50 {
  background-color: rgba(245, 158, 11, 0.1) !important;
}

html[data-theme="lightsout"] .bg-pink-50 {
  background-color: rgba(236, 72, 153, 0.1) !important;
}

html[data-theme="lightsout"] .bg-indigo-50 {
  background-color: rgba(99, 102, 241, 0.1) !important;
}

/* -100 variants (icon backgrounds) */
html[data-theme="lightsout"] .bg-blue-100 {
  background-color: rgba(37, 99, 235, 0.12) !important;
}

html[data-theme="lightsout"] .bg-green-100 {
  background-color: rgba(34, 197, 94, 0.12) !important;
}

html[data-theme="lightsout"] .bg-red-100 {
  background-color: rgba(239, 68, 68, 0.12) !important;
}

html[data-theme="lightsout"] .bg-purple-100 {
  background-color: rgba(168, 85, 247, 0.12) !important;
}

html[data-theme="lightsout"] .bg-yellow-100 {
  background-color: rgba(234, 179, 8, 0.12) !important;
}

html[data-theme="lightsout"] .bg-amber-100 {
  background-color: rgba(245, 158, 11, 0.12) !important;
}

html[data-theme="lightsout"] .bg-pink-100 {
  background-color: rgba(236, 72, 153, 0.12) !important;
}

html[data-theme="lightsout"] .bg-indigo-100 {
  background-color: rgba(99, 102, 241, 0.12) !important;
}

/* Hover states for badges in lights-out mode */
html[data-theme="lightsout"] .hover\:bg-blue-100:hover {
  background-color: rgba(37, 99, 235, 0.18) !important;
}

html[data-theme="lightsout"] .hover\:bg-green-100:hover {
  background-color: rgba(34, 197, 94, 0.18) !important;
}

html[data-theme="lightsout"] .hover\:bg-red-100:hover {
  background-color: rgba(239, 68, 68, 0.18) !important;
}

html[data-theme="lightsout"] .hover\:bg-purple-100:hover {
  background-color: rgba(168, 85, 247, 0.18) !important;
}

html[data-theme="lightsout"] .hover\:bg-yellow-100:hover {
  background-color: rgba(234, 179, 8, 0.18) !important;
}

html[data-theme="lightsout"] .hover\:bg-amber-100:hover {
  background-color: rgba(245, 158, 11, 0.18) !important;
}

html[data-theme="lightsout"] .hover\:bg-pink-100:hover {
  background-color: rgba(236, 72, 153, 0.18) !important;
}

html[data-theme="lightsout"] .hover\:bg-indigo-100:hover {
  background-color: rgba(99, 102, 241, 0.18) !important;
}

html[data-theme="lightsout"] .hover\:bg-blue-50:hover {
  background-color: rgba(37, 99, 235, 0.15) !important;
}

html[data-theme="lightsout"] .hover\:bg-green-50:hover {
  background-color: rgba(34, 197, 94, 0.15) !important;
}

html[data-theme="lightsout"] .hover\:bg-red-50:hover {
  background-color: rgba(239, 68, 68, 0.15) !important;
}

html[data-theme="lightsout"] .hover\:bg-purple-50:hover {
  background-color: rgba(168, 85, 247, 0.15) !important;
}

html[data-theme="lightsout"] .hover\:bg-yellow-50:hover {
  background-color: rgba(234, 179, 8, 0.15) !important;
}

html[data-theme="lightsout"] .hover\:bg-amber-50:hover {
  background-color: rgba(245, 158, 11, 0.15) !important;
}

html[data-theme="lightsout"] .hover\:bg-pink-50:hover {
  background-color: rgba(236, 72, 153, 0.15) !important;
}

html[data-theme="lightsout"] .hover\:bg-indigo-50:hover {
  background-color: rgba(99, 102, 241, 0.15) !important;
}

/* Badge styling for all themes */
/* Light mode badges - default Tailwind */
.badge-blue {
  background-color: #dbeafe;
  color: #1e40af;
}

.badge-green {
  background-color: #d1fae5;
  color: #065f46;
}

.badge-red {
  background-color: #fee2e2;
  color: #991b1b;
}

.badge-purple {
  background-color: #ede9fe;
  color: #6b21a8;
}

.badge-yellow {
  background-color: #fef3c7;
  color: #92400e;
}

.badge-amber {
  background-color: #fef3c7;
  color: #92400e;
}

.badge-pink {
  background-color: #fce7f3;
  color: #9f1239;
}

.badge-indigo {
  background-color: #e0e7ff;
  color: #3730a3;
}

.badge-gray {
  background-color: #f3f4f6;
  color: #374151;
}

/* Dark mode badges */
html[data-theme="dark"] .badge-blue {
  background-color: rgba(59, 130, 246, 0.2);
  color: #93c5fd;
}

html[data-theme="dark"] .badge-green {
  background-color: rgba(34, 197, 94, 0.2);
  color: #86efac;
}

html[data-theme="dark"] .badge-red {
  background-color: rgba(239, 68, 68, 0.2);
  color: #fca5a5;
}

html[data-theme="dark"] .badge-purple {
  background-color: rgba(168, 85, 247, 0.2);
  color: #d8b4fe;
}

html[data-theme="dark"] .badge-yellow {
  background-color: rgba(234, 179, 8, 0.2);
  color: #fde047;
}

html[data-theme="dark"] .badge-amber {
  background-color: rgba(245, 158, 11, 0.2);
  color: #fcd34d;
}

html[data-theme="dark"] .badge-pink {
  background-color: rgba(236, 72, 153, 0.2);
  color: #f9a8d4;
}

html[data-theme="dark"] .badge-indigo {
  background-color: rgba(99, 102, 241, 0.2);
  color: #a5b4fc;
}

html[data-theme="dark"] .badge-gray {
  background-color: rgba(156, 163, 175, 0.2);
  color: #d1d5db;
}

/* Lights-out mode badges */
html[data-theme="lightsout"] .badge-blue {
  background-color: rgba(59, 130, 246, 0.15);
  color: #93c5fd;
}

html[data-theme="lightsout"] .badge-green {
  background-color: rgba(34, 197, 94, 0.15);
  color: #86efac;
}

html[data-theme="lightsout"] .badge-red {
  background-color: rgba(239, 68, 68, 0.15);
  color: #fca5a5;
}

html[data-theme="lightsout"] .badge-purple {
  background-color: rgba(168, 85, 247, 0.15);
  color: #d8b4fe;
}

html[data-theme="lightsout"] .badge-yellow {
  background-color: rgba(234, 179, 8, 0.15);
  color: #fde047;
}

html[data-theme="lightsout"] .badge-amber {
  background-color: rgba(245, 158, 11, 0.15);
  color: #fcd34d;
}

html[data-theme="lightsout"] .badge-pink {
  background-color: rgba(236, 72, 153, 0.15);
  color: #f9a8d4;
}

html[data-theme="lightsout"] .badge-indigo {
  background-color: rgba(99, 102, 241, 0.15);
  color: #a5b4fc;
}

html[data-theme="lightsout"] .badge-gray {
  background-color: rgba(156, 163, 175, 0.15);
  color: #d1d5db;
}

/* Text color overrides for lights-out mode - more muted */
/* Blue text should be gray in lights-out mode for consistency */
html[data-theme="lightsout"] .text-blue-600,
html[data-theme="lightsout"] .text-blue-700,
html[data-theme="lightsout"] .text-blue-800 {
  color: #888888 !important;
}

html[data-theme="lightsout"] .text-green-600,
html[data-theme="lightsout"] .text-green-700,
html[data-theme="lightsout"] .text-green-800 {
  color: #4ade80 !important;
}

html[data-theme="lightsout"] .text-red-600,
html[data-theme="lightsout"] .text-red-700,
html[data-theme="lightsout"] .text-red-800 {
  color: #f87171 !important;
}

html[data-theme="lightsout"] .text-purple-600,
html[data-theme="lightsout"] .text-purple-700,
html[data-theme="lightsout"] .text-purple-800 {
  color: #c084fc !important;
}

html[data-theme="lightsout"] .text-yellow-600,
html[data-theme="lightsout"] .text-yellow-700,
html[data-theme="lightsout"] .text-yellow-800 {
  color: #facc15 !important;
}

html[data-theme="lightsout"] .text-amber-600,
html[data-theme="lightsout"] .text-amber-700,
html[data-theme="lightsout"] .text-amber-800 {
  color: #fbbf24 !important;
}

html[data-theme="lightsout"] .text-pink-600,
html[data-theme="lightsout"] .text-pink-700,
html[data-theme="lightsout"] .text-pink-800 {
  color: #f472b6 !important;
}

html[data-theme="lightsout"] .text-indigo-600,
html[data-theme="lightsout"] .text-indigo-700,
html[data-theme="lightsout"] .text-indigo-800 {
  color: #818cf8 !important;
}

/* Lightsout mode overrides */
html[data-theme="lightsout"] {
  --surface-1: #000000;
  --surface-2: #111111;
  --surface-3: #181818;
  --border: #222222;
  --text-primary: #f0f0f0;  /* Light gray text for better contrast */
  --shadow: none;
}

html[data-theme="lightsout"] .sidebar,
html[data-theme="lightsout"] .sidebar > div {
  background-color: #111111;
}

html[data-theme="lightsout"] .sidebar {
  border-right: 1px solid var(--border);
}

html[data-theme="lightsout"] .card {
  background-color: var(--surface-1);
  color: var(--text-primary);
}

html[data-theme="lightsout"] .input {
  background-color: var(--surface-2);
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="lightsout"] .textarea {
  background-color: var(--surface-2);
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="lightsout"] .datepicker-picker {
  background-color: var(--surface-2);
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="lightsout"] .recurrence-dropdown {
  background-color: var(--surface-2);
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="lightsout"] .dropdown {
  background-color: var(--surface-2);
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="lightsout"] .dropdown-content {
  background-color: var(--surface-2);
  color: var(--text-primary);
  border-color: var(--border);
}

html[data-theme="lightsout"] .dropdown-item {
  background-color: var(--surface-2);
  color: var(--text-primary);
}

html[data-theme="lightsout"] .dropdown-item:hover {
  background-color: var(--surface-3);
  color: var(--text-primary);
}

/* Dark mode overrides */
html[data-theme="dark"] {
  --surface-1: #15202b;
  --surface-2: #192734;
  --surface-3: #253341;
  --border: #38444d;
  --text-primary: #ffffff;
  --shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

html[data-theme="dark"] .sidebar {
  background-color: #15202B;
}

html[data-theme="dark"] .card {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

html[data-theme="dark"] .input {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

html[data-theme="dark"] .textarea {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

html[data-theme="dark"] .datepicker-picker {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

html[data-theme="dark"] .recurrence-dropdown {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

html[data-theme="dark"] .dropdown {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

html[data-theme="dark"] .dropdown-content {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

html[data-theme="dark"] .dropdown-item {
  background-color: #192734;
  border-color: #38444d;
  color: #ffffff;
}

html[data-theme="dark"] .dropdown-item:hover {
  background-color: #253341;
  color: #ffffff;
}

/* Queue status colors with theme variants */
.bg-red-50 {
  background-color: #fef2f2;
}

.dark .bg-red-50,
html[data-theme="dark"] .bg-red-50 {
  background-color: rgba(239, 68, 68, 0.1);
}

html[data-theme="lightsout"] .bg-red-50 {
  background-color: rgba(239, 68, 68, 0.15);
}

/* Similarly for text-red-700 */
.text-red-700 {
  color: #b91c1c;
}

.dark .text-red-700,
html[data-theme="dark"] .text-red-700 {
  color: #fca5a5;
}

html[data-theme="lightsout"] .text-red-700 {
  color: #fecaca;
}

/* ============================================
   LIGHTS-OUT MODE FINAL OVERRIDES
   These rules have highest specificity to fix any remaining issues
   ============================================ */

/* Sidebar in lights-out mode - ensure proper border radius and no visible borders */
html[data-theme="lightsout"] .sidebar {
  border-color: transparent !important;
  overflow: hidden !important;
}

html[data-theme="lightsout"] .sidebar > div {
  overflow: hidden !important;
}

/* Profile card stat labels - ensure gray not blue */
html[data-theme="lightsout"] p.text-xs {
  color: #888888 !important;
}

/* Any remaining blue text in lights-out mode */
html[data-theme="lightsout"] *[class*="text-blue"] {
  color: #888888 !important;
}